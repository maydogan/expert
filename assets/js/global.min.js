var navTabs,docBody,bodyId,scrollTop=!0;
window.addEvent("domready",function(){docBody=$(document.body);bodyId=docBody.id;addBodyBrowserClass();navTabs=$$("#header #navigation li");navTabs.each(function(a){a.addEvent("click",handleNavClick)});new Fx.SmoothScroll({duration:300,offset:{x:0,y:50},transition:Fx.Transitions.Quart.easeInOut},window);handleTopScroll();if(window.location.hash){var a=$$(window.location.hash+"-ls");a.length&&(new Fx.Scroll(document.body,{duration:700,transition:Fx.Transitions.Quart.easeInOut})).start(0,a.pick().getPosition().y-
65)}$$("h1, h2, h3, h4, p, li, blockquote, div.entry").each(function(a){a.addClass("blank-img-base64")})});
window.addEvent("load",function(){var a=new McoreModal({fromUrl:"/modals/login.html",height:222,id:"login",width:584});$("header-login").addEvent("click",function(b){a.open(b);initFormOverText();$("login-form").addEvent("submit",function(a){a.stop();var a=a.target,b=$("login-form");(new Request({url:"/includes/login-submit-handler.php",method:"post",onSuccess:function(a){var c=JSON.decode(a);c.success?window.location=c.mediacore_url:b.getElements("[type=text]").each(function(a){c.errors[a.name]?$(a.id).addClass("error"):
$(a.id).removeClass("error")})},onFailure:function(){console.log("form submit failure")}})).send(a.toQueryString());return!1})})});function addBodyBrowserClass(){$(document.body).addClass("browser-"+Browser.name)}function handleNavClick(a){var b=a.target.getParent("li")||a.target;b.id=="nav-"+bodyId&&scrollTop?(a.stop(),(new Fx.Scroll($(document.body))).toTop({duration:250})):setActiveNavTab(b.id)}
function setActiveNavTab(a){for(var b=0,c;c=navTabs[b];++b)c.id==a?c.addClass("active"):c.removeClass("active")}function handleTopScroll(){"index"==bodyId&&$("nav-logo").addEvent("click",function(a){a.preventDefault();(new Fx.Scroll(window)).toTop({duration:300,transition:Fx.Transitions.easeInOutQuint})})}function initFormOverText(){for(var a=document.forms,b=0,c;c=a[b];++b)$(c).getElements("[type=text], [type=password], textarea").each(function(a){new OverText(a)})};
